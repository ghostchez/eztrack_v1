<%- include("./partials/head") %>
<% if (status != "undefined" && status == "success" && typeof vehiculo_editar  == "undefined") { %>
  <script>
    window.addEventListener('load', function () {
        Swal.fire(
          'Alta exitosa!',
          '"Mis datos de pago" ingresado exitosamente',
          'success'
      )
    })
  </script>
<% } %>
<% if (status != "undefined" && status == "error" && typeof vehiculo_editar  == "undefined") { %>
  <script>
    window.addEventListener('load', function () {
        Swal.fire(
          'Error!',
          'Error inesperado, contactar al administrador.',
          'error'
      )
    })
  </script>
<% } %>
<% if (status != "undefined" && status == "edit_success" && typeof vehiculo_editar  == "undefined") { %>
  <script>
    window.addEventListener('load', function () {
        Swal.fire(
          'Edicion exitosa!',
          '"Mis datos de pago" editado exitosamente',
          'success'
      )
    })
  </script>
<% } %>
<% if (status != "undefined" && status == "edit_error" && typeof vehiculo_editar  == "undefined") { %>
  <script>
    window.addEventListener('load', function () {
        Swal.fire(
          'Error!',
          'Error inesperado al intentar editar, contactar al administrador.',
          'error'
      )
    })
  </script>
<% } %>
<body>
    <!-- Layout wrapper -->
  <div class="layout-wrapper layout-content-navbar">
    <div class="layout-container">
      <!-- Menu -->
      <%- include("./partials/header") %>
      <!-- / Menu -->

    <!-- Layout container -->
    <div class="layout-page">

      <!-- Content wrapper -->
      <div class="content-wrapper">
        <!-- Content -->

        <div class="container-xxl flex-grow-1 container-p-y">
          <h4 class="fw-bold py-3 mb-4"><span class="text-muted fw-light">Usuarios /</span> Datos de pago </h4>

          <div class="row">
            <div class="col-md-12">
              <div class="card mb-4">
                <h5 class="card-header">Mis datos de pago</h5>
                <!-- Account -->
                <hr class="my-0" />
                <div class="card-body">
                  <form id="formAccountSettings" method="POST"  class="form-validate" action="/usuarios/datos_pago">
                    <div class="row">
                      <div class="mb-3 col-md-6">
                        <label for="address" class="form-label">Direccion</label>
                        <input
                          class="form-control validate"
                          type="text"
                          id="address"
                          name="address"
                          value="<%- (mis_datos_pago)? mis_datos_pago.direccion : "" %>"
                          data-validation-type="alphanumeric_space"
                          data-validation-length="1_50"
                          autofocus
                        />
                        <div class="error-validacion">
                          Direccion debe ser texto y numeros con maximo de 50 caracteres, se admite espacios.
                        </div>
                      </div>
                      <div class="mb-3 col-md-6">
                        <label for="province" class="form-label">Estado/Provincia</label>
                        <input
                          class="form-control validate"
                          type="text"
                          id="province"
                          name="province"
                          value="<%- (mis_datos_pago)? mis_datos_pago.estado : "" %>"
                          data-validation-type="text"
                          data-validation-length="1_50"
                          autofocus
                        />
                        <div class="error-validacion">
                          Estado/Provincia debe ser alfanumerico con maximo de 50 caracteres, se admite simbolos (-/,.:"\)
                        </div>
                      </div>
                      <div class="mb-3 col-md-6">
                        <label for="dni" class="form-label">Documento de identidad</label>
                        <input class="form-control validate" type="number" name="dni" id="dni" 
                        value="<%- (mis_datos_pago)? mis_datos_pago.dni : "" %>" data-validation-type="number"
                        data-validation-length="7_8" />
                        <div class="error-validacion">
                          DNI debe ser un numero entero entre 7 o 8 caracteres.
                        </div>
                      </div>
                      <div class="mb-3 col-md-6">
                        <label for="email" class="form-label">Email</label>
                        <input
                          class="form-control validate"
                          type="email"
                          id="email"
                          name="email"
                          value="<%- (mis_datos_pago)? mis_datos_pago.email : "" %>"
                          data-validation-type="email"
                          data-validation-length="1_50"
                          placeholder="ejemplo@gmail.com"
                          
                        />
                        <div class="error-validacion">
                          Ingrese un email valido
                        </div>
                      </div>
                      
                      <div class="mb-3 col-md-4">
                        <label for="cardOwner" class="form-label">Titular</label>
                        <input
                          class="form-control validate"
                          type="text"
                          id="cardOwner"
                          name="cardOwner"
                          value="<%- (mis_datos_pago)? mis_datos_pago.titular : "" %>"
                          data-validation-type="text"
                          data-validation-length="1_30"
                          placeholder="ENRIQUE LOPEZ"
                        />
                        <div class="error-validacion">
                          Titular debe ser un texto con maximo 30 caracteres.
                        </div>
                      </div>
                      <div class="mb-3 col-md-3">
                        <label for="cardNumber" class="form-label">Numero de tarjeta</label>
                        <input
                          class="form-control validate"
                          type="number"
                          id="cardNumber"
                          name="cardNumber"
                          value="<%- (mis_datos_pago)? mis_datos_pago.numero_tarjeta : "" %>"
                          data-validation-type="number"
                          data-validation-length="16_19"
                          placeholder="504512345678"
                        />
                        <div class="error-validacion">
                          Numero de la tarjeta solo admite entero entre 16 y 19 caracteres.
                        </div>
                      </div>
                      <div class="mb-3 col-md-2">
                        <label for="cvv" class="form-label">CVV</label>
                        <input
                          class="form-control validate"
                          type="password"
                          id="cvv"
                          name="cvv"
                          value="<%- (mis_datos_pago)? mis_datos_pago.cvv : "" %>"
                          data-validation-type="number"
                          data-validation-length="3_4"
                          placeholder="123"
                        />
                        <div class="error-validacion">
                          Ingrese un cvv valido,entero entre 3 y 4 caracteres.
                        </div>
                      </div>
                      <div class="mb-3 col-md-3">
                        <div class="row">
                          <label class="form-label">Vencimiento</label>
                          <div class="col-md-6">
                            <input
                              class="form-control validate"
                              type="number"
                              id="expireMonth"
                              name="expireMonth"
                              value="<%- (mis_datos_pago)? mis_datos_pago.vencimiento.split("/")[0] : "" %>"
                              data-validation-type="number"
                              data-validation-length="2_2"
                              placeholder="01"
                            />
                            <div class="error-validacion">
                              Ingrese un mes valido, ej:09.
                            </div>
                          </div>
                          <div class="col-6">
                            <input
                              class="form-control validate"
                              type="number"
                              id="expireYear"
                              name="expireYear"
                              value="<%- (mis_datos_pago)? mis_datos_pago.vencimiento.split("/")[1] : "" %>"
                              data-validation-type="number"
                              data-validation-length="2_2"
                              placeholder="26"
                            />
                            <div class="error-validacion">
                              Ingrese un a√±o valido, ej:23.
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="mt-2">
                      <button type="submit" class="btn btn-primary me-2">Guardar</button>
                      <button type="reset" class="btn btn-outline-secondary">Cancel</button>
                    </div>
                  </form>
                </div>
                <!-- /Account -->
              </div>
            <!-- / Content -->

<%- include("./partials/footer") %>
